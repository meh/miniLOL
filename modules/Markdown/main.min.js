miniLOL.module.create("Markdown",{version:"0.1",initialize:function(){miniLOL.utils.require(this.root+"/system/showdown.min.js");this.converter=new Showdown.converter;miniLOL.resource.get("miniLOL.config").load(this.root+"/resources/config.xml");miniLOL.resource.get("miniLOL.functions").load(this.root+"/resources/functions.xml");Event.observe(document,":resource.loaded",function(a){if(a.memo.resource.name=="miniLOL.config")miniLOL.config.Markdown["class"]||(miniLOL.config.Markdown["class"]="markdown")});
Event.observe(document,":go",function(){this.execute()}.bind(this))},execute:function(a){if(Object.isString(a))return this.converter.makeHtml(a);else a=Object.isElement(a)?[a]:$$(".#{0}".interpolate([miniLOL.config.Markdown["class"]]));a.each(function(b){b.innerHTML=this.converter.makeHtml(b.innerHTML)},this)}});
